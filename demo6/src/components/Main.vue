<template>


  <el-container>
    <el-header>header</el-header>
    <el-container>
      <el-aside>aside</el-aside>
      <el-main>
        <el-container>
          <el-main>
            <table style="line-height: 50px;">
              <tr>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-10" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-11" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-12" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-13" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-2-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-2-2" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-2-3" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
              </tr>
              <tr>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black; background-color: black;" class="q-1-9">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-2-4" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
              </tr>
              <tr>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-8" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-2-5" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
              </tr>
              <tr>
                <td class="q-1-3" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-4" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-7" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-2-6" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-2-9" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-2-10" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
              </tr>
              <tr>
                <td class="q-1-2" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-5" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-6" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-2-7" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-2-8" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-2-11" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
              </tr>
              <tr>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-2-12" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
              </tr>
              <tr>
                <td class="q-4-13" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-2-13" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
              </tr>
              <tr>
                <td class="q-4-12" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-3-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
              </tr>
              <tr>
                <td class="q-4-11" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-4-8" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-4-7" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-3-6" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-3-5" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-3-2" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
              </tr>
              <tr>
                <td class="q-4-10" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-4-9" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-4-6" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-3-7" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-3-4" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-3-3" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
              </tr>
              <tr>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-4-5" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-3-8" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
              </tr>
              <tr>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-4-4" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-1-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-3-9" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
              </tr>
              <tr>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td class="q-4-3" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-4-2" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-4-1" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-3-13" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-3-12" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-3-11" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td class="q-3-10" style="width: 50px; height: 50px; border: 1px solid black; background-color: black;">
                  &nbsp;
                </td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
                <td style="width: 50px; height: 50px; border: 1px solid black;">&nbsp;</td>
              </tr>
            </table>
          </el-main>
          <el-footer>

            <el-button @click.native="login"  >连接</el-button>
            <template v-for="play in playList" >

              <el-button @click.native="select(play.code)" v-if="play.use==0" >{{play.name}}</el-button>

            </template>

            玩家1
            玩家2
            玩家3
            玩家4

            摇色子
            准备
            观战
          </el-footer>
        </el-container>
      </el-main>
    </el-container>
  </el-container>
</template>

<script>
  export default {
    name: 'Main',
    socket:null,
    playList:[],
    status:0,
    data() {
      return {
        msg: 'Welcome to Your Vue.js App'
      }
    },created () {
      // 初始化
      this.init()
    },mounted () {
      // 初始化
      //this.send({type:"insert"});
    },
    methods: {
      select:function(play){
        this.send({type:"select",playcode:play});
      },
      login:function(){
        this.send({type:"insert"});
      },
      init: function () {
        if(typeof(WebSocket) === "undefined"){
          alert("您的浏览器不支持socket")
        }else{
          // 实例化socket
          this.socket = new WebSocket("ws://127.0.0.1:3001");
          // 监听socket连接
          this.socket.onopen = this.open
          // 监听socket错误信息
          this.socket.onerror = this.error
          // 监听socket消息
          this.socket.onmessage = this.getMessage
         // this.send({type:"insert"});
        }
      },
      open: function () {
        console.log("socket连接成功")
      },
      error: function () {
        console.log("连接错误")
      },
      getMessage: function (msg) {
        console.log(msg.data)
        var   data = JSON.parse(msg.data);
        debugger
        if(data.type=='insert'){
          this.playList=data.playList;
        }

      },
      send: function (params) {
        var   str=JSON.stringify(params);
        this.socket.send(str)
      },
      close: function () {
        console.log("socket已经关闭")
      }
    },
    destroyed () {
      // 销毁监听
      this.socket.onclose = this.close
    }
  }
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
